{exp:channel:entries channel="news" limit="1" disable="{gv_disable_all}"}
<!doctype html>
{embed="embeds/head"}
<body>

{embed="embeds/header"}

<div class="inner">
	<div class="inner-content group full-width">
		<h1>{title}</h1>
		{news_content}
	</div>
</div>

{embed="embeds/products"}

{embed="embeds/footer"}
<script>
	(function() {

  // store the slider in a local variable
  var $window = $(window),
      flexslider;

  // tiny helper function to add breakpoints
  function getGridSize() {
    return (window.innerWidth < 480) ? 1 :
           (window.innerWidth < 760) ? 2 : 3;
  }

  $(function() {
    SyntaxHighlighter.all();
  });

  $window.load(function() {
    $('.flexslider').flexslider({
      animation: "slide",
      animationLoop: true,
      itemWidth: 400,
      itemMargin: 0,
      minItems: 1,
      maxItems: 4,
      move: 1,
      minItems: getGridSize(), // use function to pull in initial value
      maxItems: getGridSize() // use function to pull in initial value
    });
  });

  // check grid size on resize event
  $window.resize(function() {
    var gridSize = getGridSize();

    flexslider.vars.minItems = gridSize;
    flexslider.vars.maxItems = gridSize;
  });
}());
</script>
</body>
</html>
{/exp:channel:entries}
